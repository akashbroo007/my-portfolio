"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[136],{4319:(e,t,r)=>{function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function i(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}r.d(t,{To:()=>R});var c=r(7431);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t[0],a=t[1],o=t[2],i=t[3],u=t[4],c=t[5],l=t[6],f=t[7],s=t[8];return n*u*s+a*c*l+o*i*f-o*u*l-a*i*s-n*c*f}function f(e,t){for(var r=[],n=e.toArray(),a=t.toArray(),o=0;o<n.length;o++)r[o]=n[o]+a[o];return new c.Matrix3().fromArray(r)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function p(e,t){if(e){if("string"==typeof e)return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r,n,a=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=a){var o=[],i=!0,u=!1;try{for(a=a.call(e);!(i=(r=a.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){u=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(u)throw n}}return o}}(e,t)||p(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t,r){return(d=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}()?function(e,t,r){var n=[null];n.push.apply(n,t);var a=new(Function.bind.apply(e,n));return r&&u(a,r.prototype),a}:Reflect.construct).apply(null,arguments)}function m(e){var t=y(e[0],2),r=t[0],n=t[1],a=y(e[1],2),o=a[0],i=a[1],u=y(e[2],2);return l(r,n,1,o,i,1,u[0],u[1],1)}var h=new c.Vector2,g=new c.Vector2;function b(e){return e*e*e*(e*(6*e-15)+10)}function v(e,t,r){return e*(1-r)+t*r}var w=function e(t,r,a){var o=this;i(this,e),n(this,"dot2",function(e,t){return o.x*e+o.y*t}),n(this,"dot3",function(e,t,r){return o.x*e+o.y*t+o.z*r}),this.x=t,this.y=r,this.z=a},A=[new w(1,1,0),new w(-1,1,0),new w(1,-1,0),new w(-1,-1,0),new w(1,0,1),new w(-1,0,1),new w(1,0,-1),new w(-1,0,-1),new w(0,1,1),new w(0,-1,1),new w(0,1,-1),new w(0,-1,-1)],O=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],E=Array(512),x=Array(512),S=function(e){e>0&&e<1&&(e*=65536),(e=Math.floor(e))<256&&(e|=e<<8);for(var t,r=0;r<256;r++)t=1&r?O[r]^255&e:O[r]^e>>8&255,E[r]=E[r+256]=t,x[r]=x[r+256]=A[t%12]};S(0);var _=.5*(Math.sqrt(3)-1),D=(3-Math.sqrt(3))/6,j=1/3,M=1/6;function P(e){var t=function(e){if("number"==typeof e)e=Math.abs(e);else if("string"==typeof e){var t=e;e=0;for(var r=0;r<t.length;r++)e=(e+(r+1)*(t.charCodeAt(r)%96))%0x7fffffff}return 0===e&&(e=311),e}(e);return function(){var e=48271*t%0x7fffffff;return t=e,e/0x7fffffff}}var U=new function e(t){var r=this;i(this,e),n(this,"seed",0),n(this,"init",function(e){r.seed=e,r.value=P(e)}),n(this,"value",P(this.seed)),this.init(t)}(Math.random()),z={radius:1,center:[0,0,0]};function R(e,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U,n=o(o({},z),t),a=n.radius,i=n.center,u=0;u<e.length;u+=3){var c=Math.pow(r.value(),1/3),l=2*r.value()-1,f=2*r.value()-1,s=2*r.value()-1,p=Math.sqrt(l*l+f*f+s*s);l=c*l/p,f=c*f/p,s=c*s/p,e[u]=l*a+i[0],e[u+1]=f*a+i[1],e[u+2]=s*a+i[2]}return e}},5830:(e,t,r)=>{let n,a;r.d(t,{ON:()=>d});var o=r(9630),i=r(7431),u=r(2115),c=r(681);i.Group;let l=u.createContext(null),f=new i.Matrix4,s=new i.Vector3,p=u.forwardRef(({children:e,range:t,limit:r=1e3,...p},y)=>{let d=u.useRef(null);u.useImperativeHandle(y,()=>d.current,[]);let[m,h]=u.useState([]),[[g,b,v]]=u.useState(()=>[new Float32Array(3*r),Float32Array.from({length:3*r},()=>1),Float32Array.from({length:r},()=>1)]);u.useEffect(()=>{d.current.geometry.attributes.position.needsUpdate=!0}),(0,c.F)(()=>{for(d.current.updateMatrix(),d.current.updateMatrixWorld(),f.copy(d.current.matrixWorld).invert(),d.current.geometry.drawRange.count=Math.min(r,void 0!==t?t:r,m.length),n=0;n<m.length;n++)(a=m[n].current).getWorldPosition(s).applyMatrix4(f),s.toArray(g,3*n),d.current.geometry.attributes.position.needsUpdate=!0,a.matrixWorldNeedsUpdate=!0,a.color.toArray(b,3*n),d.current.geometry.attributes.color.needsUpdate=!0,v.set([a.size],n),d.current.geometry.attributes.size.needsUpdate=!0});let w=u.useMemo(()=>({getParent:()=>d,subscribe:e=>(h(t=>[...t,e]),()=>h(t=>t.filter(t=>t.current!==e.current)))}),[]);return u.createElement("points",(0,o.A)({userData:{instances:m},matrixAutoUpdate:!1,ref:d,raycast:()=>null},p),u.createElement("bufferGeometry",null,u.createElement("bufferAttribute",{attach:"attributes-position",count:g.length/3,array:g,itemSize:3,usage:i.DynamicDrawUsage}),u.createElement("bufferAttribute",{attach:"attributes-color",count:b.length/3,array:b,itemSize:3,usage:i.DynamicDrawUsage}),u.createElement("bufferAttribute",{attach:"attributes-size",count:v.length,array:v,itemSize:1,usage:i.DynamicDrawUsage})),u.createElement(l.Provider,{value:w},e))}),y=u.forwardRef(({children:e,positions:t,colors:r,sizes:n,stride:a=3,...l},f)=>{let s=u.useRef(null);return u.useImperativeHandle(f,()=>s.current,[]),(0,c.F)(()=>{let e=s.current.geometry.attributes;e.position.needsUpdate=!0,r&&(e.color.needsUpdate=!0),n&&(e.size.needsUpdate=!0)}),u.createElement("points",(0,o.A)({ref:s},l),u.createElement("bufferGeometry",null,u.createElement("bufferAttribute",{attach:"attributes-position",count:t.length/a,array:t,itemSize:a,usage:i.DynamicDrawUsage}),r&&u.createElement("bufferAttribute",{attach:"attributes-color",count:r.length/a,array:r,itemSize:3,usage:i.DynamicDrawUsage}),n&&u.createElement("bufferAttribute",{attach:"attributes-size",count:n.length/a,array:n,itemSize:1,usage:i.DynamicDrawUsage})),e)}),d=u.forwardRef((e,t)=>e.positions instanceof Float32Array?u.createElement(y,(0,o.A)({},e,{ref:t})):u.createElement(p,(0,o.A)({},e,{ref:t})))},9107:(e,t,r)=>{r.d(t,{q:()=>l});var n=r(9630),a=r(7431),o=r(2115);let i=parseInt(a.REVISION.replace(/\D+/g,"")),u=i>=154?"opaque_fragment":"output_fragment";class c extends a.PointsMaterial{constructor(e){super(e),this.onBeforeCompile=(e,t)=>{let{isWebGL2:r}=t.capabilities;e.fragmentShader=e.fragmentShader.replace(`#include <${u}>`,`
        ${r?`#include <${u}>`:`#extension GL_OES_standard_derivatives : enable
#include <${u}>`}
      vec2 cxy = 2.0 * gl_PointCoord - 1.0;
      float r = dot(cxy, cxy);
      float delta = fwidth(r);     
      float mask = 1.0 - smoothstep(1.0 - delta, 1.0 + delta, r);
      gl_FragColor = vec4(gl_FragColor.rgb, mask * gl_FragColor.a );
      #include <tonemapping_fragment>
      #include <${i>=154?"colorspace_fragment":"encodings_fragment"}>
      `)}}}let l=o.forwardRef((e,t)=>{let[r]=o.useState(()=>new c(null));return o.createElement("primitive",(0,n.A)({},e,{object:r,ref:t,attach:"material"}))})}}]);